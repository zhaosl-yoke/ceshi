<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>用定时器模拟marqueen</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#affiche {
			    color: #000;
			    display: block;
			    width: 96%;
			    height: 30px;
			    margin: 0 auto;
			    position: relative;
			    overflow: hidden;
			    font-size: 0.28rem;
			}
			.affiche_text {
			    position: absolute;
			    top: 0;
			    left: 100%;
			    line-height: 30px;
			    display: block;
			    word-break: keep-all;
			    text-overflow: ellipsis;
			    white-space: nowrap;
			}
		</style>
	</head>
	<body>
		<div id="affiche">
			<span class="affiche_text">撒旦爱神的箭三上看到静安寺</span>
		</div>
		<script type="text/javascript" src="js/common/jquery-1.12.1.min.js"></script>
		<script type="text/javascript" src="js/common/rem.js"></script>
		<script type="text/javascript">
			var timer = setTimeout(marquee, 1000);
		    function marquee() {
		        var scrollWidth = $('#affiche').width();
		        var textWidth = $('.affiche_text').width();
		        var i = scrollWidth;
		        setInterval(function() {
		            i--;
		            if(i < -textWidth ) {
		                i = scrollWidth;
		            }
		            $('.affiche_text').animate({'left': i+'px'}, 20);
		        }, 20);
		    }
		</script>
	</body>
</html>
